{"version":3,"file":"2-43d3b687.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/_page.server.ts.js","../../../.svelte-kit/adapter-node/nodes/2.js"],"sourcesContent":["import { g as getData, A as API_TOKEN } from \"../../chunks/getData.js\";\nconst actions = {\n  default: async ({\n    request\n  }) => {\n    const formData = await request.formData();\n    const long = formData.get(\"longUrl\");\n    let short = formData.get(\"shortUrl\") || formData.get(\"shortUrlPlaceholder\");\n    if (!short) {\n      short = Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15);\n    }\n    short = short.toString();\n    if (short.length > 20) {\n      return { short, processed: true, code: 413 };\n    }\n    const currentData = await getData();\n    const longExists = currentData.find((data) => data.long === long);\n    const shortExists = currentData.find((data) => data.short === short);\n    if (longExists) {\n      return { short: longExists.short, processed: true, code: 304 };\n    } else if (shortExists) {\n      return { short: short.toString(), processed: true, code: 409 };\n    }\n    await fetch(\"http://localhost:3005/api/v1/data\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${API_TOKEN}`,\n        \"Access-Control-Allow-Origin\": \"*\"\n      },\n      body: JSON.stringify({ long, short })\n    });\n    return { short, processed: true, code: 200 };\n  }\n};\nasync function load() {\n  const data = await getData();\n  return {\n    body: data\n  };\n}\nexport {\n  actions,\n  load\n};\n","import * as server from '../entries/pages/_page.server.ts.js';\n\nexport const index = 2;\nlet component_cache;\nexport const component = async () => component_cache ??= (await import('../entries/pages/_page.svelte.js')).default;\nexport { server };\nexport const server_id = \"src/routes/+page.server.ts\";\nexport const imports = [\"_app/immutable/nodes/2.1c067d65.js\",\"_app/immutable/chunks/scheduler.65a4905e.js\",\"_app/immutable/chunks/index.83732ebc.js\"];\nexport const stylesheets = [];\nexport const fonts = [];\n"],"names":[],"mappings":";;AACA,MAAM,OAAO,GAAG;AAChB,EAAE,OAAO,EAAE,OAAO;AAClB,IAAI,OAAO;AACX,GAAG,KAAK;AACR,IAAI,MAAM,QAAQ,GAAG,MAAM,OAAO,CAAC,QAAQ,EAAE,CAAC;AAC9C,IAAI,MAAM,IAAI,GAAG,QAAQ,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;AACzC,IAAI,IAAI,KAAK,GAAG,QAAQ,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI,QAAQ,CAAC,GAAG,CAAC,qBAAqB,CAAC,CAAC;AAChF,IAAI,IAAI,CAAC,KAAK,EAAE;AAChB,MAAM,KAAK,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;AACxG,KAAK;AACL,IAAI,KAAK,GAAG,KAAK,CAAC,QAAQ,EAAE,CAAC;AAC7B,IAAI,IAAI,KAAK,CAAC,MAAM,GAAG,EAAE,EAAE;AAC3B,MAAM,OAAO,EAAE,KAAK,EAAE,SAAS,EAAE,IAAI,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC;AACnD,KAAK;AACL,IAAI,MAAM,WAAW,GAAG,MAAM,OAAO,EAAE,CAAC;AACxC,IAAI,MAAM,UAAU,GAAG,WAAW,CAAC,IAAI,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,IAAI,KAAK,IAAI,CAAC,CAAC;AACtE,IAAI,MAAM,WAAW,GAAG,WAAW,CAAC,IAAI,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,KAAK,KAAK,KAAK,CAAC,CAAC;AACzE,IAAI,IAAI,UAAU,EAAE;AACpB,MAAM,OAAO,EAAE,KAAK,EAAE,UAAU,CAAC,KAAK,EAAE,SAAS,EAAE,IAAI,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC;AACrE,KAAK,MAAM,IAAI,WAAW,EAAE;AAC5B,MAAM,OAAO,EAAE,KAAK,EAAE,KAAK,CAAC,QAAQ,EAAE,EAAE,SAAS,EAAE,IAAI,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC;AACrE,KAAK;AACL,IAAI,MAAM,KAAK,CAAC,mCAAmC,EAAE;AACrD,MAAM,MAAM,EAAE,MAAM;AACpB,MAAM,OAAO,EAAE;AACf,QAAQ,cAAc,EAAE,kBAAkB;AAC1C,QAAQ,aAAa,EAAE,CAAC,OAAO,EAAE,SAAS,CAAC,CAAC;AAC5C,QAAQ,6BAA6B,EAAE,GAAG;AAC1C,OAAO;AACP,MAAM,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC;AAC3C,KAAK,CAAC,CAAC;AACP,IAAI,OAAO,EAAE,KAAK,EAAE,SAAS,EAAE,IAAI,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC;AACjD,GAAG;AACH,CAAC,CAAC;AACF,eAAe,IAAI,GAAG;AACtB,EAAE,MAAM,IAAI,GAAG,MAAM,OAAO,EAAE,CAAC;AAC/B,EAAE,OAAO;AACT,IAAI,IAAI,EAAE,IAAI;AACd,GAAG,CAAC;AACJ;;;;;;;;ACtCY,MAAC,KAAK,GAAG,EAAE;AACvB,IAAI,eAAe,CAAC;AACR,MAAC,SAAS,GAAG,YAAY,eAAe,KAAK,CAAC,MAAM,OAAO,4BAAkC,CAAC,EAAE,QAAQ;AAExG,MAAC,SAAS,GAAG,6BAA6B;AAC1C,MAAC,OAAO,GAAG,CAAC,oCAAoC,CAAC,6CAA6C,CAAC,yCAAyC,EAAE;AAC1I,MAAC,WAAW,GAAG,GAAG;AAClB,MAAC,KAAK,GAAG;;;;"}